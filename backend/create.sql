create table category (id int8 generated by default as identity, create_at TIMESTAMP WITHOUT TIME ZONE, name varchar(255), update_at TIMESTAMP WITHOUT TIME ZONE, primary key (id));
create table client (id int8 generated by default as identity, birth_date TIMESTAMP WITHOUT TIME ZONE, children int4, income float8, name varchar(255), primary key (id));
create table product (id int8 generated by default as identity, date TIMESTAMP WITHOUT TIME ZONE, description TEXT, img_url varchar(255), name varchar(255), price float8, primary key (id));
create table product_category (product_id int8 not null, category_id int8 not null, primary key (product_id, category_id));
create table role (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table usuario (id int8 generated by default as identity, email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), primary key (id));
create table usuario_role (usuario_id int8 not null, role_id int8 not null, primary key (usuario_id, role_id));
alter table if exists usuario add constraint UK_5171l57faosmj8myawaucatdw unique (email);
alter table if exists product_category add constraint FKkud35ls1d40wpjb5htpp14q4e foreign key (category_id) references category;
alter table if exists product_category add constraint FK2k3smhbruedlcrvu6clued06x foreign key (product_id) references product;
alter table if exists usuario_role add constraint FKe7gfguqsiox6p89xggm8g2twf foreign key (role_id) references role;
alter table if exists usuario_role add constraint FKpc2qjts6sqq4hja9f6i3hf0ep foreign key (usuario_id) references usuario;
